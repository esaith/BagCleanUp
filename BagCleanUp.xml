<Ui xmlns="http://www.blizzard.com/wow/ui/" 
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                   xsi:schemaLocation="http://www.blizzard.com/wow/ui/ 
                   ..\..\FrameXML\UI.xsd">				   
<Script File="BagCleanUp.lua"/>
<Frame name="BagCleanUpSliderTemplate" virtual="true">	
	<Size x="300" y="50" />		
	<Frames>			
		<CheckButton name="$parentCheckButton" inherits="UICheckButtonTemplate">
			<Size x="30" y="30" />
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT" />
			</Anchors>
			<Scripts>
				<OnClick function="BagCleanUpSlider_CheckBoxClick" />
			</Scripts>
		</CheckButton>
		<Button name="$parentDownButton">
			<Size x="20" y="20" />
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentCheckButton" relativePoint="RIGHT" x="1" />
			</Anchors>
			<Layers>
				<Layer level="LAYOUT" setAllPoints="true">
					<Texture name="$parentBackground" file="Interface\BUTTONS\UI-MinusButton-Up" />
				</Layer>
			</Layers>
			<PushedTexture name="$parent_buttonPushed" file="Interface\BUTTONS\UI-MinusButton-Down" />
			<Scripts>		
				<OnClick function="BagCleanUpSlider_DownButton"/>                
			</Scripts>
		</Button>
		<Slider name="$parentSlider" inherits="OptionsSliderTemplate"  minValue="0" maxValue="800" valueStep="1">
			<Size x="200"  y="20"/>
			<Anchors>				
				<Anchor point="LEFT" relativeTo="$parentDownButton" relativePoint="RIGHT" x="3"/>
			</Anchors>
			<Layers>
				<Layer>
					<FontString name="$parentTitle" inherits="GameFontNormal" text="">
						<Anchors>
							<Anchor point="TOP" relativeTo="$parent" relativePoint="BOTTOM" />
						</Anchors>
						<Color r=".7" g=".7" b="0" />
					</FontString>
					<FontString name="$parentValue" inherits="GameFontNormal" text="">
						<Anchors>
							<Anchor point="BOTTOM" relativeTo="$parent" relativePoint="TOP"/>
						</Anchors>
						<Color r=".7" g=".7" b="0" />
					</FontString>
					</Layer>
			</Layers>
			<Scripts>
				<OnLoad function="BagCleanUp_SliderOnLoad" />
				<OnValueChanged function="BagCleanUpSlider_SliderValueChanged" />
			</Scripts>
		</Slider>
		<Button name="$parentUpButton">
			<Size x="20" y="20" />
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentSlider" relativePoint="RIGHT" x="5"/>
			</Anchors>
			<Layers>
				<Layer level="LAYOUT" setAllPoints="true">
					<Texture name="$parent_ButtonRest" file="Interface\BUTTONS\UI-PlusButton-Up" />
				</Layer>
			</Layers>
			<PushedTexture name="$parent_ButtonPushed" file="Interface\BUTTONS\UI-PlusButton-Down" />
			<Scripts>
				<OnClick function="BagCleanUpSlider_UpButton"/>
			</Scripts>
		</Button>
	</Frames>
</Frame>

<Frame name="BagCleanUp" parent="UIParent" hidden="true" frameStrata="MEDIUM" inherits="BasicFrameTemplateWithInset" movable="true">
	<Size x="325" y="350" />
	<Anchors>
		<Anchor point="CENTER" relativeTo="UIParent" relativePoint="CENTER" />
	</Anchors>			
	<Layers>
		<Layer level="BACKGROUND" setAllPoints="true">
			<Texture name="$parentBackground">
				<Color r="1.0" g="1.0" b="1.0" a=".8" />
			</Texture>
			<FontString name="$parentTitle" inherits="GameFontNormal" text="Bag Clean Up Options">
				<Anchors>
					<Anchor point="TOP" relativeTo="$parent" relativePoint="TOP" y="-5"/>
				</Anchors>
			</FontString>
		</Layer>
	</Layers>
	<Scripts>	
		<OnLoad function="BagCleanUp_OnLoad"/>		
		<OnEvent function="BagCleanUp_OnEvent" />
		<OnDragStart>self:StartMoving();</OnDragStart>
		<OnDragStop>self:StopMovingOrSizing();</OnDragStop>
        <OnHide function="BagCleanUp_OnHide" />
        <OnShow function="BagCleanUp_OnShow" />
	</Scripts>
</Frame>

<Button name="$parentButton" parent="BagCleanUp" movable="true" enableMouse="true" hidden="true"
	frameStrata="HIGH" topLevel="true">
	<Size x="50" y="50"/>
	<Anchors>
		<Anchor point="TOP" relativePoint="TOPRIGHT" relativeTo="$parent" x="-35" y="-25"/>
	</Anchors>
	<Layers>
		<Layer level="HIGH">
			<Texture name="$parentTexture" file="Interface\BUTTONS\UI-GroupLoot-Coin-Up" >
				<Size x="40" y="40"/>
				<Anchors>
					<Anchor point="CENTER" relativePoint="CENTER" />
				</Anchors>
			</Texture>			
		</Layer>
	</Layers>
	<PushedTexture name="$parent_buttonPushed" file="Interface\BUTTONS\UI-GroupLoot-Coin-Highlight" >
		<Size x="40" y="40"/>
		<Anchors>
			<Anchor point="CENTER" relativePoint="CENTER" />
		</Anchors>
	</PushedTexture>
	<Scripts>
        <OnLoad>self.TimeSinceLastUpdate = 0</OnLoad>
		<OnClick function="BagClearUpButton_Click" />
        <OnUpdate function="BagClearUpButton_OnUpdate" />
        <OnHide>BagCleanUpVar.properties.update = false</OnHide>	
	</Scripts>
</Button>

<Frame name="$parentSideTabs" parent="BagCleanUp">
	<Size x="60" y="200" />
	<Anchors>
		<Anchor point="TOPRIGHT" relativeTo="$parent" relativePoint="TOPLEFT" x="10" y="1"/>
	</Anchors>
	<Frames>
		<Button name="$parentZone" inherits="ItemButtonTemplate" id="1" text="Zone">
			<Anchors>
				<Anchor point="TOP" relativePoint="TOP" relativeTo="$parent" />
			</Anchors>
			<Layers>
				<Layer level="OVERLAY" setAllPoints="true">
					<Texture name="$parentTexture" file="Interface\BUTTONS\UI-MicroButton-World-Up" >
						<Size x="40" y="60"/>
						<Anchors>
							<Anchor point="CENTER" relativePoint="CENTER" y="10"/>
						</Anchors>
					</Texture>
				</Layer>
			</Layers>
			<Scripts>
				<OnClick function="ShowZoneFilter" />
			</Scripts>
		</Button>
		<Button name="$parentiLvl" inherits="ItemButtonTemplate" id="2" text="iLvl">
			<Anchors>
				<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parentZone" />
			</Anchors>
			<Layers>
				<Layer level="OVERLAY" setAllPoints="true">
					<Texture name="$parentTexture" file="Interface\BUTTONS\UI-MicroButton-Spellbook-Up" >
						<Size x="40" y="60"/>
						<Anchors>
							<Anchor point="CENTER" relativePoint="CENTER" y="10"/>
						</Anchors>
					</Texture>
				</Layer>
			</Layers>
			<Scripts>
				<OnClick function="ShowILVLFilter"/>
			</Scripts>
		</Button>
        <Button name="$parentRarity" inherits="ItemButtonTemplate" id="3" text="Rarity">
            <Anchors>
                <Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parentiLvl" />
            </Anchors>
            <Layers>
                <Layer level="OVERLAY" setAllPoints="true">
                    <Texture name="$parentTexture" file="Interface\BUTTONS\UI-MicroButton-Raid-Up" >
                        <Size x="40" y="60"/>
                        <Anchors>
                            <Anchor point="CENTER" relativePoint="CENTER" y="10"/>
                        </Anchors>
                    </Texture>
                </Layer>
            </Layers>
            <Scripts>
                <OnClick function="ShowRarityFilter"/>
            </Scripts>
        </Button>
	</Frames>
</Frame>
<Frame name="$parentTabs" parent="BagCleanUp">
		<Size x="325" y="40" />
		<Anchors>
			<Anchor point="TOP" relativeTo="BagCleanUp" relativePoint="BOTTOM" />
		</Anchors>
	<Frames >
        <Button name="$parentTab1" inherits="CharacterFrameTabButtonTemplate" id="1" text="Gray">
            <Anchors>
                <Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeTo="$parent" x="-10"/>
            </Anchors>
            <Scripts>
                <OnClick>
                    BagCleanUpBottomTab_Click(self, "OnClick" )
                    PanelTemplates_SetTab(BagCleanUpTabs, self:GetID());
                </OnClick>
            </Scripts>
        </Button>
		<Button name="$parentTab2" inherits="CharacterFrameTabButtonTemplate" id="2" text="White">
			<Anchors>
				<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parentTab1" x="-10"/>
			</Anchors>
			<Scripts>
				<OnClick>
					BagCleanUpBottomTab_Click(self, "OnClick" )
					PanelTemplates_SetTab(BagCleanUpTabs, self:GetID());
				</OnClick>
			</Scripts>
		</Button>
		<Button name="$parentTab3" inherits="CharacterFrameTabButtonTemplate" id="3" text="Green">
			<Anchors>
				<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parentTab2" x="-11"/>
			</Anchors>
			<Scripts>
				<OnClick>
					BagCleanUpBottomTab_Click(self, "OnClick" )
					PanelTemplates_SetTab(BagCleanUpTabs, self:GetID());
				</OnClick>
			</Scripts>
		</Button>
		<Button name="$parentTab4" inherits="CharacterFrameTabButtonTemplate" id="4" text="Blue">
			<Anchors>
				<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parentTab3" x="-11"/>
			</Anchors>
			<Scripts>
				<OnClick>
					BagCleanUpBottomTab_Click(self, "OnClick" )
					PanelTemplates_SetTab(BagCleanUpTabs, self:GetID());
				</OnClick>
			</Scripts>
		</Button>
		<Button name="$parentTab5" inherits="CharacterFrameTabButtonTemplate" id="5" text="Purple">
			<Anchors>
				<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parentTab4" x="-11"/>
			</Anchors>
			<Scripts>
				<OnClick>
					BagCleanUpBottomTab_Click(self, "OnClick" )
					PanelTemplates_SetTab(BagCleanUpTabs, self:GetID());
				</OnClick>
			</Scripts>
		</Button>		
	</Frames>		
	<Scripts>
		<OnLoad function="BagCleanUpTabs_OnLoad" />
		<OnShow function="BagCleanUpTabs_OnShow" />
	</Scripts>
</Frame>		
 
 <Button name="$parentZone" parent="BagCleanUp" inherits="UIDropDownMenuTemplate" hidden="false">
	<Size x="150" y="50" />
	<Anchors>
		<Anchor point="TOP" relativePoint="TOP" relativeTo="$parent" x="-20" y="-30"/>
	</Anchors>		
	<Scripts>
		<OnLoad>
		UIDropDownMenu_Initialize(self, CreateDropDownList);
		</OnLoad>
	</Scripts>
 <Anchors>
	<Anchor point="CENTER"/>
 </Anchors>
 </Button>
</Ui>